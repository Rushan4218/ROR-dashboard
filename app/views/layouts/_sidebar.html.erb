<div class="flex flex-col w-[300px] bg-primary-300 shadow-xl h-screen p-4">
    <%= link_to root_path do %>
    <h1 class="text-2xl font-semibold text-primary-800">Dashboard</h1>
    <% end %>
    <div class="w-full h-[1px] bg-primary-900 my-4"></div>


    <%= link_to root_path, class: "hover:bg-primary-400 rounded-lg px-4 py-2 duration-300 font-semibold text-primary-800" do %>
        Home
    <% end %>
    <%= link_to root_path, class: "hover:bg-primary-400 rounded-lg px-4 py-2 duration-300 font-semibold text-primary-800" do %>
        Products
    <% end %>
    <%= link_to root_path, class: "hover:bg-primary-400 rounded-lg px-4 py-2 duration-300 font-semibold text-primary-800" do %>
        Categories
    <% end %>
    <%= link_to root_path, class: "hover:bg-primary-400 rounded-lg px-4 py-2 duration-300 font-semibold text-primary-800" do %>
        Users
    <% end %>
    <div class="relative mt-auto cursor-pointer hover:bg-primary-400 px-4 py-2 rounded-lg duration-300">
        <div id="user-btn" class="flex items-center space-x-2">
            <span class="flex-shrink-0 rounded-full bg-primary-500 size-10 text-xl flex items-center justify-center"><%= current_user.email[0].upcase %></span>
            <span class="text-primary-800 font-semibold overflow-hidden"><%= current_user.email %></span>
        </div>
        <div id="user-menu" class="absolute -top-8 -right-[100px] w-42 1 bg-white border rounded-lg shadow-lg hidden flex flex-col gap-4 bg-primary-700 text-neutral-100 overflow-clip">
            <span><%= link_to 'Profile', edit_user_registration_path, class: "block px-4 py-2 hover:bg-primary-600 duration-300" %></span>
            <span><%= link_to 'Log Out', destroy_user_session_path, method: :delete, class: "block px-4 py-2 hover:bg-primary-600 duration-300" %></span>
        </div>
    </div>


</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const userBtn = document.getElementById("user-btn");
        const userMenu = document.getElementById("user-menu");

        // Toggle dropdown menu visibility
        userBtn.addEventListener("click", function(event) {
            userMenu.style.display = userMenu.style.display === "block" ? "none" : "block";
            event.stopPropagation();
        });

        // Close the dropdown if the user clicks outside of it
        document.addEventListener("click", function(event) {
            if (!userBtn.contains(event.target) && !userMenu.contains(event.target)) {
                userMenu.style.display = "none";
            }
        });
    });
</script>